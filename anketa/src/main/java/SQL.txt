create table users
(
	id bigserial
		constraint users_pk
			primary key,
	email varchar(255) not null,
	first_name varchar(50) not null,
	last_name varchar(50) not null,
	password varchar(250) not null,
	role varchar(10) default 'USER' not null,
	status varchar(10) default 'ACTIVE' not null
);

create table questionnaires
(
	id bigserial
		constraint questionnaires_pk
			primary key,
	name_questionnaire varchar
);

create table questions
(
	id bigserial
		constraint questions_pk
			primary key,
	value varchar not null,
	choice_type varchar not null,
	questionnaire_id bigint not null,
	constraint questions_questionnaires_id_fk
    		foreign key (questionnaire_id) references questionnaires(id)
);
create table variants
(
    id bigserial
        constraint variants_pk
            primary key,
    value varchar not null,
    question_id bigint not null,
        constraint variants_questions_id_fk
        foreign key (question_id) references questions(id)
);
CREATE TABLE user_variant
(
    user_id bigserial NOT NULL,
    variant_id bigserial NOT NULL,
    CONSTRAINT "FK_user_id" FOREIGN KEY ("user_id")
        REFERENCES "users" ("id"),
    CONSTRAINT "FK_variant_id" FOREIGN KEY ("variant_id")
        REFERENCES "variants" ("id")
);
